---
macro: sandbox
---

This page contains useful information on sandboxing in the context of Scaleway Serverless Functions and Serverless Containers. 
[Sandboxes](serverless/concepts/#sandbox) are an isolation mechanism that allow you to test or execute code without risking harm to the host environment.
Serverless Functions use two types of sandboxes, [GVisor](https://gvisor.dev/docs/) and [Kata](https://katacontainers.io/learn/).

## GVisor	

OS Level Isolation - Faster cold start but some incompatibility, ideal for API development or web applications, works for most workloads.
GVisor is an application kernel, written in Go, that implements a substantial portion of the Linux system call interface. It provides an additional layer of isolation between running applications and the host operating system.

GVisor is a Linux-compatible sandbox that intercepts the hosted application system calls to the kernel.

### GVisor Compatibility

- System calls working with GVisor](https://gvisor.dev/docs/user_guide/compatibility/linux/amd64/)
- [Application compatible with GVisor](https://gvisor.dev/docs/user_guide/compatibility/)

Refer to the [official GVisor documentation](https://gvisor.dev/docs/) for more information.

## Kata Container	

VM Level Isolation - Slower cold start, full linux compatibility, better if you need specific system librairies or perform network intensive tasks, not recommended for lower tiers (less than 1 vCPU).

Kata Containers is an open source community working to build a secure container runtime with lightweight virtual machines that feel and perform like containers, but provide stronger workload isolation using hardware virtualization technology as a second layer of defense.

Refer to the [official Kata documentation](https://katacontainers.io/learn/) for more information.

## Choosing the right sandbox

- GVisor is the default sandbox. Select it if you need short cold starts.

- Kata is an alternative sandbox that you can use if: 
    - Gvisor is incompatible 
    - You perform network intensive task
    - Latency is not an issue

## Raw performances

| Specification            | GVisor                                     | Kata Container                         |
|--------------------------|--------------------------------------------|----------------------------------------|
| Cold Starts              | 1s                                         | 8s                                     |
| Network Throughput       | -                                          | + (no impact compared to host)         |
| Raw CPU performance      | =                                          | =                                      |
| Stability                | =                                          | =                                      |
| Memory Management        | Not tested                                 | Not tested                             |
| Supported applications   | Some applications may be incompatible      | Can run any app                        |
| Permissions              | For non-root #  Need to ask security audit | For root app                           |
| Capabilities             | To be blocked                              | To be blocked                          |
| Lower Tiers performances | Better                                     | Even Lower cold start on smaller tiers |
