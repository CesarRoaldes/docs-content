---
meta:
  title: How to create and apply a bucket policy
  description: This page shows how to create and apply a bucket policy to a specific bucket
content:
  h1: How to create and apply a bucket policy
  paragraph: This page shows how to create and apply a bucket policy to a specific bucket
tags: bucket policy bucket bucket-policy object storage object-storage s3
dates:
  validation: 2023-09-29
  posted: 2023-09-29
categories:
  - storage
  - object-storage
---

<Macro id="storage-bucket-policy" />

## How to create a bucket policy

1. Create the `bucket-policy.json` file.

2. Open it in a code editor and paste the following code inside:

    ```json
    {
        "Version": "2023-06-07-alpha",
        "Id": "MyBucketPolicy",
        "Statement": [
            {
                "Sid": "DelegateAccess",
                "Effect": "Deny",
                "NotPrincipal": {
                    "SCW": "user_id:<USER_ID>"
                },
                "Action": [
                    "s3:ListBucket",
                    "s3:GetObject"
                ],
                "Resource": [
                    "<BUCKET_NAME>",
                    "<BUCKET_NAME>/*"
                ]
            }
        ]
    }
    ```

3. Replace the `<USER_ID>` placeholder with the ID of the user or application you want to grant access to.
    <Message type="important">
    The `NotPrincipal` element denies access to all users and applications **except** the one specified in this element.
    </Message>
4. Add all the authorized operations to the `Action` element. Refer to the list of supported actions](/storage/object/api-cli/bucket-policy/#action) for more information.

5. Replace the `<BUCKET_NAME>` placeholders in the `Resource` element with the name of the concerned bucket. Refer to the resource of supported actions](/storage/object/api-cli/bucket-policy/#resource) for more information.

<Message type="note">
Refer to the [Bucket policies description](/storage/object/api-cli/bucket-policy/#bucket-policy-description) for more details on each string.
</Message>

## How to apply a bucket policy

1. Run the command below to apply the policy. Replace `<BUCKET_NAME>` with the name of your bucket.
    ```sh
    aws s3api put-bucket-policy --bucket <BUCKET_NAME> --policy file://bucket-policy.json
    ```
    <Message type="note">
      Each bucket can have only one bucket policy.
    </Message>
2. Run the command below to display the bucket policy applied to your bucket.
    ```sh
    aws s3api get-bucket-policy --bucket <BUCKET_NAME>
    ```
    An output similar to the following displays:
    ```sh
    {
    "Policy": "{\"Version\": \"2023-06-07-alpha\", \"Id\": \"MyBucketPolicy\", \"Statement\": [{\"Action\": [\"s3:ListBucket\", \"s3:GetObject\"], \"NotPrincipal\": {\"SCW\": \"user_id:example-g0l4-4h6d-b9c2-0fd3299d5d70\"}, \"Resource\": [\"my-bucket\", \"my-bucket/*\"], \"Effect\": \"Deny\", \"Sid\": \"DelegateAccess\"}]}"
    }
    ```

## Bucket policy examples

### Bucket policy using the Principal element

### Bucket policy using the NotPrincipal element